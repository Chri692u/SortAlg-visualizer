(()=>{"use strict";function e(e,n,t){[e[n],e[t]]=[e[t],e[n]]}const n=document.getElementById("columns");function t(n,t){const o=[],r=function(n){for(let t=n.length-1;t>0;t--)e(n,t,Math.floor(Math.random()*(t+1)));return n}(Array.from({length:n},((e,n)=>n+1)));for(let e=0;e<n;e++)o.push({number:r[e],color:"red"});return o}function o(e){n.innerHTML="";for(let t=0;t<e.length;t++){const o=document.createElement("div");o.setAttribute("class","col "+e[t].color),o.innerHTML=""+e[t].number,n.appendChild(o)}}function r(e){return new Promise((n=>setTimeout(n,e)))}var l=function(e,n,t,o){return new(t||(t=Promise))((function(r,l){function c(e){try{u(o.next(e))}catch(e){l(e)}}function i(e){try{u(o.throw(e))}catch(e){l(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(c,i)}u((o=o.apply(e,n||[])).next())}))};class c{static insertionSort(e,n=0){return l(this,void 0,void 0,(function*(){for(let t=1;t<e.length;t++){const l=e[t].number;e[t].color="yellow",o(e),yield r(n);let c=t-1;for(o(e);c>=0&&e[c].number>l;)e[c+1].number=e[c].number,e[c].color="yellow",o(e),yield r(n),c--,e[c+1].color="green",o(e);e[c+1].number=l,e[c+1].color="green",o(e)}e.forEach((e=>{e.color="green"})),o(e)}))}static selectionsort(e){return l(this,void 0,void 0,(function*(){for(let n=0;n<e.length-1;n++){let t=n;for(let o=n+1;o<e.length+1;o++)e[o].number<e[t].number&&(t=o);if(t!==n){const o=e[t].number;e[t].number=e[n].number,e[n].number=o}}return e}))}static mergeSort(e,n,t,c=0){return l(this,void 0,void 0,(function*(){if(n<t){const l=Math.floor((n+t)/2);yield this.mergeSort(e,n,l,c),o(e),yield this.mergeSort(e,l+1,t,c),o(e),yield function(e,n,t,l,c){return i=this,u=void 0,f=function*(){let i=n,u=t+1;const a=[];let f=0;for(let s=n;s<=l;s++){i>t?a[f++]=e[u++]:u>l||e[i].number<e[u].number?a[f++]=e[i++]:a[f++]=e[u++];for(let n=i;n<u;n++)e[n].color="yellow";o(e),yield r(c)}for(let t=0;t<f;t++)e[t].color="green",e[n++]=a[t]},new((a=void 0)||(a=Promise))((function(e,n){function t(e){try{r(f.next(e))}catch(e){n(e)}}function o(e){try{r(f.throw(e))}catch(e){n(e)}}function r(n){var r;n.done?e(n.value):(r=n.value,r instanceof a?r:new a((function(e){e(r)}))).then(t,o)}r((f=f.apply(i,u||[])).next())}));var i,u,a,f}(e,n,l,t,c),o(e)}}))}static bubbleSort(e,n=0){return l(this,void 0,void 0,(function*(){let t=0;for(let l=e.length-1;l>=0;l--){for(let c=1;c<=l;c++){if(e[c-1].number>e[c].number){const l=e[c-1];e[c].color="yellow",o(e),yield r(n),e[c-1]=e[c],e[c]=l,t=c,o(e),yield r(n)}else e[c].color="green";e[c-1].color="red"}e[t].color="green"}e.forEach((e=>{e.color="green"})),o(e)}))}}const i=document.getElementById("myRange"),u=document.getElementById("array-size"),a=document.getElementById("btnClick"),f=document.getElementById("options");document.getElementById("drawSpeed"),u.innerHTML="Size of array: "+i.value;let s=t(Number(i.value));o(s),i.oninput=function(){u.innerHTML="Size of array: "+i.value,s=t(Number(i.value),Number(i.value)),o(s)},a.onclick=function(){!function(e,n){switch(Number(e)){case 1:return c.insertionSort(n);case 2:return c.selectionsort(n);case 3:return c.mergeSort(n,0,n.length-1);case 4:c.bubbleSort(n)}}(f.value,s)}})();